<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VisionServer: Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/FRC3407/VisionServer" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VisionServer
   &#160;<span id="projectnumber">v2.0.0-87-gb5d29bc</span>
   </div>
   <div id="projectbrief">FRC vision library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_guide_Setup_Dev.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Setup </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><b>Although the project has only ever been developed on Windows, cross platform support should be possible using VSCode (which is cross-platform) and cross-comipler builds from the wpilib raspbian-toolchain repository; both having downloads for Windows, MacOS and Linux. Simply follow the steps below to setup the required tools in order to build both VisionServer itself and programs that utilize it (for RPI).</b></p>
<hr  />
 <h1>Dependencies/Environment</h1>
<ol type="1">
<li><b>Install VSCode.</b> This can either be downloaded directly from <a href="https://code.visualstudio.com/">it's website</a> or by using the <a href="https://docs.wpilib.org/en/stable/docs/zero-to-robot/step-2/wpilib-setup.html">WPILIB Installer</a> (which you probably already have if you are developing for FRC). Make sure to download the correct version for your platform and architecture from either source.<ul>
<li>Note that you will also want to have the C/C++ extension installed for VSC. This comes already with WPILIB if you clicked <code>Visual Studio Code Extensions</code>, but can be installed manually by clicking on the extensions tab (the side bar) in VSC, and then searching for <code>C/C++ Extension Pack</code>. <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools-extension-pack">(this one)</a></li>
</ul>
</li>
<li><b>Install the cross-compiler.</b> This is avaiable at the wpilib <a href="https://github.com/wpilibsuite/raspbian-toolchain">raspbian-toolchain repository</a> for each platform under <a href="https://github.com/wpilibsuite/raspbian-toolchain/releases">releases</a>. At the time of writing, the latest verions is 3.0.0, but you should download from the most up to date release.<ul>
<li>Now extract the downloaded archive and place the output folder wherever you see fit (ex. <code>C:\Program Files</code> on Windows), or just leave it in your downloads folder. In either case, take note of the location as this path will be needed later.</li>
<li>For Windows, an executable of Make can also be found in the toolchain repository under <a href="https://github.com/wpilibsuite/raspbian-toolchain/tree/main/tools">tools</a> (and was included directly in this repo in older versions). Download this if you plan to use the preexisting makefile for the project, which is recommended.<ul>
<li><em>This exact same file can be found in the wpilib install (if you have it installed) under <code>C:\Users\Public\wpilib\YEAR\roborio\bin</code> and titled <code>frcYEAR-make.exe</code>. This should work the same as the one from the repo, although you might want to copy and rename it.</em></li>
</ul>
</li>
<li>Add the cross-compiler "bin" folder to your PATH environment variable. The process will be different for each platform, but a simple google search should show how (MacOS and Linux). On Windows, <a href="https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/">this guide</a> can be followed.<ul>
<li><em>The "bin" folder should be <code>(location from first bullet point)/Raspbian10-Windows64-Toolchain-8.3.0/raspbian10/bin</code> (or a similar structure for difference versions and platforms) and should contain quite a few executables.</em></li>
<li><em>I also copy/move the <b>Make executable</b> (see the previous bullet point) to this directory so it is accessable along with the other programs.</em></li>
<li><p class="startli"><em>As an example, my PATH looks like this, with the highlighted entry being the bin folder and my location folder being <code>D:\Programs</code>.</em></p>
<p class="startli"><img src="https://user-images.githubusercontent.com/60528506/147836117-fec75d6f-2871-46fa-9e10-3c21a7b73024.png" alt="image" class="inline"/></p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr  />
 <h1>Configuring the Project</h1>
<ol type="1">
<li><b>If you haven't already, download the project by cloning directly from the <a href="https://github.com/FRC3407/VisionServer">latest commit</a> or by downloading the source code archive from a <a href="https://github.com/FRC3407/VisionServer/releases">release</a>.</b><ul>
<li>The project should be able to be built right away by running <code>make</code> in the command line in the project directory (try it to test that everything is working), but additional configuration needs to be done to setup a VSCode workflow.</li>
</ul>
</li>
<li><p class="startli"><b>Open the project in VSCode. In order for syntax highlighting and intellisense to function, the file <code>(project root)/.vscode/c_cpp_properties.json</code> needs to be updated with the location of your cross-compiler, the correct "intelliSenseMode", STL version, include paths, and predefined macros. By default, the file should contain 4 separeate configurations, the first one being the default configuration (commented out) and the other 3 being machines that I use. Copy one of the configuration objects (they start and end with '{' and '}') and paste it anywhere within the <code>"configurations" : [ (here) ]</code> block (you can now delete all the others). Now edit each variable like specified below. <em>Please note that the format of this file could change with VSCode updates in the future, so the exact entry names may change. Refer to <a href="https://code.visualstudio.com/docs/cpp/c-cpp-properties-schema-reference">this</a> for updated info on formatting.</em></b></p><ul>
<li>Change the <code>"name"</code> variable to something that represents your machine and other settings in the configuration (ex. CC-ARM-{COMPUTER NAME}).</li>
<li>Add any aditional folders that you want to include under <code>"includePath"</code>. If you add anything, make sure to update the makefile accordingly so that the folders are actually included during a compile (see the [makefile walkthrough]() for more info). It is recommended to leave the preexisting values (as shown below) untouched as they reflect the default includes of the makefile (crucial to the build). <div class="fragment"><div class="line">&quot;${workspaceFolder}/**&quot;,        // &lt;- the root directory</div>
<div class="line">&quot;${workspaceFolder}/include&quot;,   // &lt;- all OpenCV and WPILIB headers</div>
<div class="line">&quot;${workspaceFolder}/references&quot; // &lt;- used for accessing the sources under &quot;tools/src&quot;</div>
</div><!-- fragment --></li>
<li>Add any predefined macros that you add to the makefile under <code>"defines"</code>.</li>
<li><code>"compilerPath"</code> should be the full path to g++, which is inside the "bin" folder which was added to path in the previous steps. Simply go to the folder and copy the path, then append the executable name to the end (something like <code>arm-raspbian10-linux-gnueabihf-g++.exe</code>).</li>
<li>You can leave <code>"cStandard"</code> and <code>"cppStandard"</code> alone unless you know for sure that a different version is being used (newer cross-compiler build).</li>
<li>Make sure <code>"intelliSenseMode"</code> is set to <code>"linux-gcc-arm"</code> or the equivelant if the preset names change due to an update.</li>
</ul>
<p class="startli">Now the file should look something like this: ``` { "configurations": [ { "name": YOUR CONFIGURATION NAME, "includePath": [ "${workspaceFolder}/**", "${workspaceFolder}/include", "${workspaceFolder}/references", OTHER INCLUDE LOCATIONS... ], "defines": [ "UNICODE", "_UNICODE", "__linux__", "__unix__", OTHER DEFINES... ], "compilerPath": "PATH TO YOUR CROSS COMPILER/Raspbian10-Windows64-Toolchain-8.3.0\\raspbian10\\bin\\arm-raspbian10-linux-gnueabihf-g++.exe", "cStandard": c17, "cppStandard": c++17, "intelliSenseMode": "linux-gcc-arm" } ] } ```</p>
<p class="startli">After everything is edited, save the file and make sure VSCode is using the correct configuration. Open a C/C++ file and check to see that the text in the bottom-right corner matches the name specified in the configuration like shown below.</p><ul>
<li>If it says something different, click on the text and then select the correct configuration from the dropdown menu.</li>
</ul>
<p class="startli"><img src="https://user-images.githubusercontent.com/60528506/147838053-0760cef5-66f0-46e1-a907-cb59fa9349bd.png" alt="image" class="inline"/></p>
</li>
</ol>
<p ><b>After that, everything should be good to go! You can use <code>Ctrl + Shift + b</code> to start a build task, which by default calls <code>./make</code> in a terminal instance. To change build tasks, you can edit <code>(project root)/.vscode/tasks.json</code>.</b></p>
<p ><em>Note that there are included project files for Visual Studio (not VSCode), although the integrated build system is messed up. If you would like to develop the project with Visual Studio, you will have to configure the project properties for your cross-compiler path (for syntax highlighting) and build using the terminal.</em></p>
<p >For info on running the program or building natively on a rpi, see the [raspberry pi documentation](). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Oct 20 2022 18:27:47 for VisionServer by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
